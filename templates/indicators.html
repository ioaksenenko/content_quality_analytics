{% extends "base.html" %}
{% load staticfiles %}
{% block head %}
	{{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static "css/base.css" %}" />
	<link rel="stylesheet" type="text/css" href="{% static "css/indicators.css" %}" />
    <script src="{% static "js/base.js" %}"></script>
    <script src="{% static "js/indicators.js" %}"></script>
{% endblock %}
{% block main %}
<div class="container-fluid mt-3 mb-3">
    <div class="row mt-3 align-items-center">
		<div class="col-auto">
			<img class="d-block mx-auto" src="{% static 'img/user.png' %}" alt="user">
		</div>
        <div class="col-auto d-table mr-auto">
            <p class="m-0 p-0"><b>{{ username }}</b></p>
            {% if is_anonymous %}
                <a href="{% url 'login' %}"><i class="fas fa-sign-in-alt"></i> Войти в систему</a>
            {% else %}
                <a href="{% url 'logout' %}"><i class="fas fa-sign-out-alt"></i> Выйти из системы</a>
            {% endif %}
        </div>
        <div class="col-auto d-table">
            {% if is_superuser  %}
                <a href="{% url 'admin-settings' %}" class="d-table-cell"><h1><i class="fas fa-cog"></i></h1></a>
            {% endif %}
        </div>
	</div>
    <div class="row mt-3">
        <div class="col">
            <h1 class="text-center">Выберите показатели, которые необходимо вычислить</h1>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col">
            <form action="{% url 'theory-analysis-results' %}" enctype="multipart/form-data" method="post" id="indicators">
                {% csrf_token %}
                <table class="table">
			    	<thead class="thead-light">
			    		<tr>
			    			<th scope="col">#</th>
                            <th scope="col"><button type="button" class="btn btn-link" onclick="select()">Выбрать \ Снять выбор</button></th>
			    			<th scope="col">Название показателя</th>
                            <th scope="col">Тип показателя</th>
			    		</tr>
			    	</thead>
			    	<tbody>
                        {% for indicator in indicators %}
                            <tr>
                                <th scope="row">{{ forloop.counter }}</th>
                                <td>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="indicators" value="{{ indicator.name }}" id="indicator-{{ indicator.name }}" checked>
                                        <label class="form-check-label" for="indicator-{{ indicator.name }}"></label>
                                    </div>
                                </td>
                                <td>{{ indicator.name }}</td>
                                <td>{% if indicator.type == 'auto-indicator' %}Автоматический{% elif indicator.type == 'expert-indicator' %}Экспертный{% endif %}</td>
                            </tr>
                        {% endfor %}
			    	</tbody>
			    </table>
                <button type="submit" class="btn btn-primary mx-auto d-block" id="next">Далее</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}